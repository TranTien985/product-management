extends ../../layouts/default.pug
include ../../mixins/table-tree.pug
include ../../mixins/moment.pug
include ../../mixins/form-change-multi.pug
include ../../mixins/show-alert.pug

block main
  +alert-success(5000)
  +alert-error(5000)

  if(role.permissions.includes("news-category_view"))
    h1 Danh Mục Sản Phẩm

    .card.mb-3 
      .card-header Danh Sách
        .card-body
          .row 
            .col-8 
              +form-change-multi(`${prefixAdmin}/news/change-multi?_method=PATCH`)
            .col-4.text-right
                if(role.permissions.includes("news-category_create"))
                  a(
                    href=`${prefixAdmin}/news-category/create`
                    class="btn btn-outline-success "
                  ) + Thêm mới

          table(
            class="table table-hover table-sm"
            checkbox-multi
          )
            thead 
              tr 
                th 
                  input(type="checkbox" name="checkall")
                th STT 
                th Hình ảnh 
                th Tiêu đề 
                th Vị trí 
                th Trạng thái 
                th Người cập nhật 
                th Hành động

            tbody
              +table-tree(records)
  
  form(
    action=""  
    method="POST"
    id="form-change-status"
    data-path=`${prefixAdmin}/news-category/change-status`
  ) 

  form(
    action="" 
    method="POST"
    id="form-delete-item"
    data-path=`${prefixAdmin}/news-category/delete`
  ) 

  script(src="/admin/js/product.js")