extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/product-layout.pug

block main
  .product-title-index
    .container
      a(href="/") Trang chủ
      span.separator / 
      strong Trang danh sách sản phẩm
  
  -
    const categoriesData = {
      categories: [
        { id: "vot-cau-long", label: "Vợt cầu lông" },
        { id: "giay-cau-long", label: "Giày cầu lông" },
        { id: "bao-vot", label: "Bao vợt cầu lông" },
        { id: "phu-kien", label: "Phụ kiện cầu lông" }
      ],
      prices: [
        { id: "0-1tr", label: "0đ - 1.000.000đ" },
        { id: "1tr-2tr", label: "1.000.000đ - 2.000.000đ" },
        { id: "2tr-5tr", label: "2.000.000đ - 5.000.000đ" },
        { id: "5tr-15tr", label: "5.000.000đ - 15.000.000đ" }
      ],
      brands: [
        { id: "Winex", label: "Winex" },
        { id: "Victor", label: "Victor" },
        { id: "Li-ning", label: "Li-ning" },
        { id: "Lien-Hiep-Thanh", label: "Liên Hiệp Thành" },
        { id: "Dai-Nam-Sport", label: "Đại Nam Sport" },
        { id: "Sportlink", label: "Sportlink" },
        { id: "Kunosport", label: "Kunosport" },
        { id: "AOLIKES", label: "AOLIKES" }
      ]
    }

  +product-page(products, categoriesData)

  script.
    document.addEventListener('DOMContentLoaded', function() {
      const toggleBtns = document.querySelectorAll('.toggle-btn');
      
      toggleBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const sidebar = this.closest('.category-sidebar');
          sidebar.classList.toggle('collapsed');
          
          if (sidebar.classList.contains('collapsed')) {
            this.textContent = '+';
          } else {
            this.textContent = '-';
          }
        });
      });

      document.querySelectorAll('.category-sidebar').forEach(sidebar => {
        sidebar.addEventListener('click', function(e) {
          if (this.classList.contains('collapsed') && 
              e.target.closest('.sidebar-header')) {
            this.classList.remove('collapsed');
            const toggleBtn = this.querySelector('.toggle-btn');
            toggleBtn.textContent = '-';
          }
        });
      });
    });