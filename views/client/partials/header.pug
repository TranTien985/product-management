include ../mixins/sub-menu.pug

//-header
header.header
  //- Tái sử dụng độ rộng phần từ các phần
  .container
    .header-top
      //- div1
      .header-top__logo
        a(href='/')
          img(src= settingGeneral.logo, alt= settingGeneral.websiteName)
      //- div2
      .header-top__middle
        //- search
        form.search-form(
          action='/search'
           method='GET'
          )
          input.form-control(
            type='search'
            name='keyword'
            class="form-control"
            placeholder='Tìm kiếm sản phẩm...'
          )
          button.header-top__search(type='submit')
            i.fa-solid.fa-magnifying-glass
        //- Hotline
        a.header-top__hotline(href='#hotlineModal')
          i.fa-solid.fa-phone
          span.hotline-text HOTLINE
      //- User Actions
      .header-top__actions
        a.user-action__item(href='/user/info')
          i.fa-solid.fa-user
        a.user-action__item.cart-item(href='/cart')
          .cart-handle
          div #{miniCart ? miniCart.totalQuantity : 0}
    .header-bottom
      //- Main Navigation
      nav.header-bottom__nav
        ul.main-nav
          li.main-nav__item
            -const pathNews = "/news"
            a(href="/news/main")
              | Tin Tức
              i.fa-solid.fa-caret-down(style='margin: 2px;\
              ')
            +sub-menu(layoutNewsCategory, pathNews)
          li.main-nav__item
            -const pathProduct = "/products"
            a(href=pathProduct)
              | Sản phẩm
              i.fa-solid.fa-caret-down(style='margin: 2px;\
              ')
            +sub-menu(layoutProductCategory, pathProduct) 
            //- biến layoutProductCategory là biến toàn cục ở file middlewares

          li.main-nav__item
            a(href='#') Hệ thống cửa hàng
          li.main-nav__item
            a.util-link(href='#')
              img(src='/images/track.png' alt='track')
              | Theo dõi sản phẩm
          
      //-User account
      ul.user-account
        if(user)

          a(href="/user/logout") Đăng xuất
        else
          li 
            a(href="/user/login") Đăng nhập 
          li
            a(href="/user/register") Đăng ký 